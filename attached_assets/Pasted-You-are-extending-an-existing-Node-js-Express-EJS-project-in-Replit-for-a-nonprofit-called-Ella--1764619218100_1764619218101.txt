You are extending an existing Node.js + Express + EJS project in Replit for a nonprofit called Ella Rises. Your goal is to build a clean website skeleton (routes + EJS views + basic auth/session handling + CSS) that matches the style of https://www.ellarises.org and satisfies the IS 403 rubric below.
Very important:
Do NOT create or run any database migrations, seeds, or actual Knex schema code.


Assume the database layer will be added later.


You may stub out Knex and data access with comments or fake in-memory data for now.



1. Stack & Project Assumptions
Use Node.js, Express, and EJS (already present in the repo).


Assume:


There is an existing app.js or index.js entry file with basic routing.


views/ and public/ directories exist or can be created.


Required packages (add to package.json if missing, but don’t configure DB connections yet):


"express"


"ejs"


"express-session"


"multer"


"knex" (stub only, no DB connection)


"pg" or "mysql2" (just installed, not used yet)


Optional packages (install but only lightly referenced in comments/placeholders):


"bcrypt"


"helmet"


"csurf"


"connect-flash"


"nodemailer"


Include <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> in the dashboard EJS as a placeholder for charts.



2. Design & Branding Requirements (Match Ella Rises)
Create a global layout that visually matches the feel of https://www.ellarises.org:
Color Palette


Primary background anchor: near-black (#0B0B0B–#111111), especially behind logo and header/footer bars.


Blush pink accent: #F2C6C6–#F6D0CF (used for buttons, highlights, callouts).


Peach/coral accent: #F1A6A0–#F6B3AA (for secondary buttons, hover accents, or section labels).


Main content background: white (#FFFFFF).


Text:


Primary text: near-black (#111/#222).


Secondary text: medium gray (#666–#777).


Layout / CSS


Use a full-width strip/section layout:


section { width: 100%; }


Inner wrapper: max-width: 1100-1200px; margin: 0 auto; padding: 60-100px 24px;


Top navigation bar:


Horizontal navigation with logo on the left and links + standout Donate CTA button on the right.


Flex-based layout: display: flex; align-items: center; justify-content: space-between;.


Donate button styled with blush/peach background and rounded corners.


Typography:


Large display-style headings with plenty of whitespace.


Simple, readable sans-serif body text.


Logo


Use the Ella Rises logo:


https://static.wixstatic.com/media/118ed8_519b33c09d2a4ba9aa0695b394f27772~mv2.png/v1/fill/w_950,h_950,al_c,q_90,enc_avif,quality_auto/118ed8_519b33c09d2a4ba9aa0695b394f27772~mv2.png


Place in the upper-left of the nav against a near-black bar.


Implement a main layout file views/layouts/main.ejs with <%- body %> and include a shared header and footer via partials (views/partials/header.ejs, views/partials/footer.ejs).

3. Authentication & Roles (Skeleton Only)
Implement session-based auth skeleton, but no real DB logic:
Use express-session.


For now, you can hard-code a small in-memory user list or a fake login check:


Example: a “manager” user (role: 'manager') and a “common” user (role: 'user').


On successful login, store in req.session:


req.session.user = { id, name, role: 'manager' | 'user' }.


Middleware:


ensureLoggedIn – Redirect to /login if no req.session.user.


ensureManager – Only allow if req.session.user.role === 'manager'.


These middlewares should be used to protect maintenance routes per rubric.

4. Routes & Access Control (Must-Have)
Create the following routes (HTTP GET views + basic POST handlers for forms). Use placeholders for CRUD actions and comments where DB logic will go in the future.
Public / Visitor-Facing Routes
GET /


External landing page for Ella Rises.


Explains the objective/mission of Ella Rises.


Includes clear CTAs: Donate, Learn More, Programs, and Login.


Hero carousel (see below).


GET /donate


Visitor donations page.


Includes a donation form:


Name, Email, Phone (optional), Amount, Frequency (one-time/monthly), Message.


Submit button (for now, POST handler just logs data or shows a success message; no DB).


POST /donate


Process form data (placeholder logic).


Render a “Thank you” page or show success on /donate.


GET /login


Login form with fields: Email/Username, Password.


POST /login


Simple hard-coded auth:


Check against an in-memory users array or a basic conditional.


Set req.session.user and redirect to /dashboard.


POST /logout


Destroy session and redirect to /.



Authenticated Areas (Dashboard & Maintenance)
Use ensureLoggedIn for all, and ensureManager for “maintenance” functions that change data.
GET /dashboard


Accessible to any logged-in user (manager or common).


Displays:


Welcome message.


Quick stats placeholders (e.g., “Total Participants”, “Upcoming Events”, “Recent Donations”).


Include a <canvas> for a Chart.js chart and include the Chart.js CDN script.


Use mock data or empty states; no real DB.


User Maintenance (Manager only)
GET /users


ensureManager.


Displays a table of users with placeholder data (name, email, role).


Includes search input (front-end only for now).


Links/buttons: Add User, Edit, Delete (just placeholders/forms).


GET /users/new


Form to create a new user (fields: name, email, role, password).


POST /users


Placeholder create; redirect back to /users.


GET /users/:id/edit


Form to edit a specific user.


POST /users/:id/delete


Placeholder delete.


Participants & Milestones
GET /participants


ensureLoggedIn.


Table/list of participants with placeholder data.


Search bar.


Show actions:


View Details (visible to all logged-in users).


Edit/Delete (visible only to managers).


Manage Milestones (manager only).


GET /participants/new (manager only)


POST /participants (manager only)


GET /participants/:id/edit (manager only)


POST /participants/:id/delete (manager only)


GET /participants/:id/milestones


ensureLoggedIn.


Show milestones linked to that participant.


GET /participants/:id/milestones/new (manager only)


POST /participants/:id/milestones (manager only)


GET /participants/:id/milestones/:milestoneId/edit (manager only)


POST /participants/:id/milestones/:milestoneId/delete (manager only)


Events
GET /events


ensureLoggedIn.


List of events with search.


View-only for common users; edit/add/delete for managers.


GET /events/new (manager only)


POST /events (manager only)


GET /events/:id/edit (manager only)


POST /events/:id/delete (manager only)


Post-Surveys
GET /surveys


ensureLoggedIn.


List of post surveys with search.


GET /surveys/new (manager only)


POST /surveys (manager only)


GET /surveys/:id/edit (manager only)


POST /surveys/:id/delete (manager only)


Donations Maintenance (Admin View)
GET /admin/donations


ensureLoggedIn.


Table of donations (placeholder data) and search.


“Volunteers are displayed” in rubric likely means the donors list; treat as donor/donation records.


GET /admin/donations/new (manager only)


POST /admin/donations (manager only)


GET /admin/donations/:id/edit (manager only)


POST /admin/donations/:id/delete (manager only)



5. EJS Views & Structure
Create the following EJS templates under views/:
layouts/main.ejs


Includes <head>, linked CSS, header, footer.


<body> wraps <%- body %>.


partials/header.ejs


Top nav with:


Logo (image from provided URL).


Links: Home, Programs, Events, Participants, Donations, Dashboard (if logged-in), Login/Logout.


Highlighted Donate button linking to /donate.


Nav items visible/hidden based on session role:


Manager-only links for maintenance pages: Users, Admin Donations.


partials/footer.ejs


Dark footer strip with contact info, copyright, simple links.


Match the nonprofit aesthetic.


index.ejs (Landing Page)


Uses main.ejs layout.


Sections:


Hero carousel:


Full-width strip with rotating images (you may use any Ella Rises images from online or static placeholder URLs).


Overlay text: “WELCOME TO ELLA RISES” with short mission statement, and buttons: “Donate” and “Get Involved”.


Programs section:


Cards/blocks for key programs: each card has image, title, description, and CTA (e.g., “Enroll”, “Learn More”).


Use 2-column layout on desktop, 1-column on mobile.


About/mission section.


Impact stats or testimonial section (placeholder text).


Footer CTA (“Support Ella Rises”, “Donate Now”).


Overall look: clean nonprofit brochure style.


auth/login.ejs


Simple login form, styled professionally.


donations/donate.ejs


Visitor-facing donation form page.


Form fields and submit; show success/thank-you messages.


dashboard/index.ejs


Logged-in dashboard view with:


KPI cards (placeholder numbers).


Chart.js <canvas> and basic inline script with dummy data.


users/index.ejs, users/form.ejs


participants/index.ejs, participants/form.ejs, participants/milestones.ejs


events/index.ejs, events/form.ejs


surveys/index.ejs, surveys/form.ejs


donations/admin-index.ejs, donations/admin-form.ejs


Each index page should:
Display placeholder tabular data with proper headings.


Include buttons to Add, Edit, and Delete where appropriate.



6. CSS Implementation
Create a main stylesheet in public/css/style.css and link it in main.ejs.
Use flexbox and simple responsive design:


Nav bar responsive (stack or hamburger on small screens).


Landing page sections become single-column on mobile.


Buttons:


Primary button: blush pink background, near-black text, rounded corners, hover darken.


Secondary: peach/coral.


Cards:


White background, subtle box-shadow, rounded corners, padding.


Aim for professionalism, clarity, and readability consistent with a nonprofit site.

7. Extra-Mile Hooks (Optional, Skeleton Only)
Include clearly marked TODO or comment blocks for:
ADA considerations (e.g., aria-labels, skip-to-content link, sufficient contrast).


Mobile-first responsive tweaks (media queries).


Optional security middleware:


Commented-out example for helmet() and csurf() usage.


Optional email sending via nodemailer (e.g., a commented helper for sending donor confirmation emails).



8. Important Constraints
Do NOT:


Create or run database migrations or seeds.


Connect Knex to any actual database.


DO:


Provide clear routing and EJS skeletons that match the rubric and Ella Rises aesthetic.


Use placeholder or in-memory data only.


Structure the code clearly so that real DB queries can be dropped into the route handlers later.


Build all necessary routes, middleware, and EJS templates so the site is fully navigable, visually polished, and role-aware (even if the underlying data is fake), ready for the database layer to be implemented later.

